# Default values for scaler.

# Number of controller replicas
replicaCount: 1

image:
  repository: ghcr.io/budecosystem/scaler
  pullPolicy: IfNotPresent
  # Overrides the image tag whose default is the chart appVersion.
  tag: ""

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  # Specifies whether a service account should be created
  create: true
  # Annotations to add to the service account
  annotations: {}
  # The name of the service account to use.
  # If not set and create is true, a name is generated using the fullname template
  name: ""

# Pod annotations
podAnnotations: {}

# Pod security context
podSecurityContext:
  runAsNonRoot: true
  seccompProfile:
    type: RuntimeDefault

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
      - ALL
  readOnlyRootFilesystem: true

# Controller arguments
controller:
  # Enable leader election for controller manager
  leaderElect: true
  # Metrics bind address
  metricsBindAddress: ":8080"
  # Health probe bind address
  healthProbeBindAddress: ":8081"
  # Webhook port (if webhooks are enabled)
  webhookPort: 9443
  # Log level (debug, info, error)
  logLevel: info

# Resource limits and requests
resources:
  limits:
    cpu: 500m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity rules
affinity: {}

# Metrics configuration
metrics:
  # Enable Prometheus metrics
  enabled: true
  # Service for metrics
  service:
    type: ClusterIP
    port: 8080

# Health probes configuration
probes:
  liveness:
    initialDelaySeconds: 15
    periodSeconds: 20
    timeoutSeconds: 1
    failureThreshold: 3
  readiness:
    initialDelaySeconds: 5
    periodSeconds: 10
    timeoutSeconds: 1
    failureThreshold: 3

# RBAC configuration
rbac:
  # Create ClusterRole and ClusterRoleBinding
  create: true

# CRD configuration
crds:
  # Install CRDs with the chart
  install: true
  # Keep CRDs on chart uninstall
  keep: true

# Prometheus integration (for metrics fetching)
prometheus:
  # Default Prometheus endpoint for PromQL metrics
  endpoint: ""
  # Authentication for Prometheus
  auth:
    enabled: false
    # Bearer token secret name
    tokenSecretName: ""
    tokenSecretKey: "token"

# GPU metrics configuration
gpu:
  # Enable GPU metrics collection
  enabled: false
  # DCGM exporter endpoint
  dcgmEndpoint: ""

# Cost tracking configuration
cost:
  # Enable cost tracking
  enabled: false
  # Cloud provider (aws, gcp, azure)
  cloudProvider: ""

# Multi-cluster configuration
multiCluster:
  # Enable multi-cluster support
  enabled: false
  # List of remote cluster kubeconfig secrets
  clusters: []
  # Example:
  # - name: cluster-1
  #   kubeconfigSecretName: cluster-1-kubeconfig
  #   kubeconfigSecretKey: kubeconfig
