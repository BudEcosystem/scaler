---
# Test Schedule Hints without Prediction
# Demonstrates that schedule hints work independently of prediction config
apiVersion: scaler.bud.studio/v1alpha1
kind: BudAIScaler
metadata:
  name: schedulehints-only-scaler
  namespace: llm-test
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: llm-inference-sim
  minReplicas: 1
  maxReplicas: 10
  scalingStrategy: BudScaler
  metricsSources:
    - metricSourceType: pod
      targetMetric: "vllm:gpu_cache_usage_perc"
      targetValue: "0.7"
      path: /metrics
      port: "8000"
  # No prediction config - schedule hints work standalone
  # predictionConfig is intentionally omitted or disabled

  # Schedule hints at top-level (work without prediction enabled)
  scheduleHints:
    # Scale up during business hours (9 AM - 6 PM weekdays)
    - name: business-hours
      cronExpression: "0 9 * * 1-5"
      targetReplicas: 5
      duration: 9h
    # Minimal replicas during off-hours
    - name: off-hours-weekday
      cronExpression: "0 18 * * 1-5"
      targetReplicas: 2
      duration: 15h
    # Weekend minimal
    - name: weekend
      cronExpression: "0 0 * * 0,6"
      targetReplicas: 1
      duration: 24h
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 120
    scaleUp:
      stabilizationWindowSeconds: 30
